# v1.5.9 版本更新说明

**发布日期**: 2026-02-21  
**版本类型**: Bug修复 + UI/UX优化

---

## 🐛 Bug修复

### 待办筛选逻辑修复
- **问题**: 待办统计显示1个，但列表显示多个任务（包含已逾期任务）
- **原因**: 筛选条件 `t.status !== 'completed'` 会同时包含 `pending` 和 `overdue` 状态
- **修复**: 改为 `t.status === 'pending'`，只显示真正的待办任务
- **文件**: `src/stores/offlineTaskStore.js`

---

## 🎨 UI优化 - 弹窗留白优化

### 全局弹窗优化
- 宽度: 90% → 96% (+6%)
- 内边距: 2rem → 1.2rem (-40%)
- 最大宽度: 600px → 650px (+50px)
- **空间利用率提升**: 6-8%

### 具体弹窗调整（9个）

| 弹窗 | 宽度变化 | padding变化 |
|------|----------|-------------|
| 1. 个人主页 | 90% → 96% | 1.5rem → 1rem |
| 2. 番茄钟统计 | 600px → 650px | 继承1.2rem |
| 3. 回收站 | 继承 → 96% | 继承1.2rem |
| 4. 联系与支持 | 500px → 550px | 默认 → 0.8rem |
| 5. 修改密码 | 400px → 450px | 继承1.2rem |
| 6. 绑定手机号 | 400px → 450px | 继承1.2rem |
| 7. 星期选择 | 400px → 450px | 1.5rem → 1rem |
| 8. 任务编辑 | 500px → 550px | 继承1.2rem |
| 9. 隐私政策 | 700px → 750px | 继承1.2rem |

### 二维码区域优化
- 去掉左右内边距: `padding: 0 1rem` → `padding: 0`
- 二维码显示更充分

---

## 💡 UX优化 - 输入框功能区分

### 新建任务输入框优化
- **修改前**: `输入任务名称...`
- **修改后**: `➕ 新建任务：输入任务名称...`
- **效果**: 与搜索框明确区分，用户一眼识别功能

### 对比
- 搜索框: `🔍 搜索任务名称或描述...`
- 新建框: `➕ 新建任务：输入任务名称...`

---

## 📊 代码统计

- **修改文件**: 2个
  - `src/stores/offlineTaskStore.js` (1行)
  - `src/views/TodoView.vue` (约30行)
- **Bug修复**: 1个严重bug
- **UI优化**: 9个弹窗
- **UX优化**: 1个输入框

---

## 🎯 核心改进

✅ 修复待办筛选严重bug - 统计与列表完全一致  
✅ 优化所有弹窗空间 - 利用率提升6-8%  
✅ 优化输入框提示 - 功能区分清晰明确  
✅ 提升用户体验 - 界面更友好，操作更直观
